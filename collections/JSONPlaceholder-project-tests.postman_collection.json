{
  "info": {
    "_postman_id": "1eca17b4-1d02-465e-b99c-8a6868b7a517",
    "name": "JSONPlaceholder-project-tests",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
    "_exporter_id": "33962338"
  },
  "item": [
    {
      "name": "Posts",
      "item": [
        {
          "name": "listPosts",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Body response returns an array\", function() {\r",
                  "    const responseBody = pm.response.json();\r",
                  "    pm.expect(responseBody).to.be.an('array');\r",
                  "})\r",
                  "\r",
                  "pm.test(\"Each post has required fields\", function() {\r",
                  "    const responseBody = pm.response.json();\r",
                  "    const requiredFields = [\"userId\", \"id\", \"title\", \"body\"];\r",
                  "\r",
                  "    responseBody.forEach(post => {\r",
                  "        requiredFields.forEach(field => {\r",
                  "            pm.expect(post).to.have.property(field);\r",
                  "        });\r",
                  "    });\r",
                  "});\r",
                  "\r",
                  "pm.test(\"'userId' and 'id' are numbers\", function() {\r",
                  "    const responseBody = pm.response.json();\r",
                  "\r",
                  "    responseBody.forEach(post => {\r",
                  "        pm.expect(post.userId).to.be.a(\"number\");\r",
                  "        pm.expect(post.id).to.be.a(\"number\");\r",
                  "    })\r",
                  "})\r",
                  "\r",
                  "pm.test(\"'title' and 'bosy' are strings\", function() {\r",
                  "    const responseBody = pm.response.json();\r",
                  "\r",
                  "    responseBody.forEach(post => {\r",
                  "        pm.expect(post.title).to.be.a(\"string\");\r",
                  "        pm.expect(post.body).to.be.a(\"string\");\r",
                  "    })\r",
                  "})\r",
                  ""
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/{{posts_section}}",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "{{posts_section}}"
              ]
            }
          },
          "response": []
        },
        {
          "name": "viewSpecificPostById",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Returns empty object when post id does not exist\", function() {\r",
                  "    const responseBody = pm.response.json();\r",
                  "    pm.expect(responseBody).to.be.an(\"object\").that.is.empty;\r",
                  "});\r",
                  "\r",
                  ""
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/{{posts_section}}/1",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "{{posts_section}}",
                "1"
              ]
            }
          },
          "response": []
        },
        {
          "name": "viewSpecificPostByUserId",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"All posts belong to the target userId\", function () {\r",
                  "    const responseJson = pm.response.json();\r",
                  "    const targetUserId = pm.request.url.query.get(\"userId\")\r",
                  "\r",
                  "    if (pm.expect(responseJson).to.be.not.empty) {\r",
                  "        responseJson.forEach(post => {\r",
                  "            pm.expect(post.userId).to.be.equal(Number(targetUserId))\r",
                  "        });\r",
                  "    }\r",
                  "});\r",
                  "\r",
                  "pm.test(\"Invalid userId request\", function () {\r",
                  "    const responseJson = pm.response.json();\r",
                  "    pm.expect(responseJson).to.be.an(\"array\").to.be.empty;\r",
                  "});"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/{{posts_section}}?userId=1",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "{{posts_section}}"
              ],
              "query": [
                {
                  "key": "userId",
                  "value": "1"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "addValidPost",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Post with all required fields\", function () {\r",
                  "    const requiredFields = [\"userId\", \"title\", \"body\"];\r",
                  "    const responseBody = [pm.response.json()];\r",
                  "\r",
                  "    responseBody.forEach(post => {\r",
                  "        requiredFields.forEach(field => {\r",
                  "            pm.expect(post).to.have.property(field);\r",
                  "        });\r",
                  "    })\r",
                  "});\r",
                  "\r",
                  "pm.test(\"Filed have valid data types\", function () {\r",
                  "    const responseJson = [pm.response.json()];\r",
                  "\r",
                  "    responseJson.forEach(post => {\r",
                  "        pm.expect(post.userId).to.be.a(\"number\");\r",
                  "        pm.expect(post.id).to.be.a(\"number\");\r",
                  "        pm.expect(post.title).to.be.a(\"string\");\r",
                  "        pm.expect(post.body).to.be.a(\"string\");\r",
                  "    });\r",
                  "});\r",
                  ""
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "exec": [
                  ""
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\r\n    \"userId\": 1,\r\n    \"title\": \"new title again\",\r\n    \"body\": \"this is a new post body. it should be unique and not match any existing posts. it should also be long enough to test the response body. it should also be long enough to\"\r\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/{{posts_section}}?userId=1",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "{{posts_section}}"
              ],
              "query": [
                {
                  "key": "userId",
                  "value": "1"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "editPost",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Post with all required fields\", function () {\r",
                  "    const requiredFields = [\"userId\", \"title\", \"body\"];\r",
                  "    const responseBody = [pm.response.json()];\r",
                  "\r",
                  "    responseBody.forEach(post => {\r",
                  "        requiredFields.forEach(field => {\r",
                  "            pm.expect(post).to.have.property(field);\r",
                  "        });\r",
                  "    });\r",
                  "});\r",
                  "\r",
                  "pm.test(\"invalid post to be edited\", function () {\r",
                  "    pm.expect(pm.response.code).to.be.oneOf([400, 404, 500]);\r",
                  "});"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "method": "PUT",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\r\n    \"userId\": 2,\r\n    \"id\": 1,\r\n    \"title\": \"this title was edited\",\r\n    \"body\": \"new body here - 1\"\r\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/{{posts_section}}/1",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "{{posts_section}}",
                "1"
              ]
            }
          },
          "response": []
        },
        {
          "name": "deletePost",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Delete invalid post\", function () {\r",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 404]);\r",
                  "});"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{base_url}}/{{posts_section}}/10999",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "{{posts_section}}",
                "10999"
              ]
            }
          },
          "response": []
        }
      ],
      "event": [
        {
          "listen": "prerequest",
          "script": {
            "type": "text/javascript",
            "packages": {},
            "requests": {},
            "exec": [
              ""
            ]
          }
        },
        {
          "listen": "test",
          "script": {
            "type": "text/javascript",
            "packages": {},
            "requests": {},
            "exec": [
              ""
            ]
          }
        }
      ]
    },
    {
      "name": "Comments",
      "item": [
        {
          "name": "listComments",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"CT-01 | Response returns an array\", function () {\r",
                  "    const responseBody = pm.response.json();\r",
                  "    pm.expect(responseBody).to.be.an(\"array\");\r",
                  "});\r",
                  "\r",
                  "pm.test(\"CT-02 | Valid object structure expected\", function () {\r",
                  "    const responseBody = pm.response.json();\r",
                  "    const required_fields = [\"postId\", \"id\", \"name\", \"email\", \"body\"];\r",
                  "\r",
                  "    responseBody.forEach(comment => {\r",
                  "        required_fields.forEach(field => {\r",
                  "            pm.expect(comment).to.have.property(field);\r",
                  "        });\r",
                  "    });\r",
                  "});\r",
                  "\r",
                  "pm.test(\"CT-03 | Valid data types expected\", function () {\r",
                  "    const responseBody = pm.response.json();\r",
                  "    \r",
                  "    responseBody.forEach(comment => {\r",
                  "        pm.expect(comment.postId).to.be.a(\"number\");\r",
                  "        pm.expect(comment.id).to.be.a(\"number\");\r",
                  "        pm.expect(comment.name).to.be.a(\"string\");\r",
                  "        pm.expect(comment.email).to.be.a(\"string\");\r",
                  "        pm.expect(comment.body).to.be.a(\"string\");\r",
                  "    });\r",
                  "});\r",
                  "\r",
                  "pm.test(\"CT-04 | Check if the response contains at least one comment\", function () {\r",
                  "    pm.expect(pm.response.json()).to.have.length.at.least(1);\r",
                  "});\r",
                  ""
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/{{comments_section}}",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "{{comments_section}}"
              ]
            }
          },
          "response": []
        },
        {
          "name": "viewSpecificCommentById",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"CT-05 | Search for an existent comment by valid ID\", function () {\r",
                  "    const comment_id_from_url = pm.request.url.path.slice(-1)[0];\r",
                  "    pm.expect(pm.response.json().id).to.be.equal(Number(comment_id_from_url));\r",
                  "});\r",
                  "\r",
                  "pm.test(\"CT-06 | Search for an non-existent comment by invalid ID\", function () {\r",
                  "    const status_code = pm.response.code;\r",
                  "    pm.expect(status_code).to.have.oneOf([400, 404]);\r",
                  "\r",
                  "    if (status_code == 404) {\r",
                  "        pm.expect(pm.response.json()).to.be.empty;\r",
                  "    }\r",
                  "});\r",
                  "\r",
                  "pm.test(\"CT-07 | Search comment by invalid data type ID\", function () {\r",
                  "    const comment_id_from_url = pm.request.url.path.slice(-1)[0];\r",
                  "\r",
                  "    if (typeof comment_id_from_url !== \"number\") {\r",
                  "        pm.expect(pm.response.code).to.be.equal(404);\r",
                  "    }\r",
                  "});\r",
                  "\r",
                  ""
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "GET",
            "header": [],
            "body": {
              "mode": "urlencoded",
              "urlencoded": []
            },
            "url": {
              "raw": "{{base_url}}/{{comments_section}}/1",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "{{comments_section}}",
                "1"
              ]
            }
          },
          "response": []
        },
        {
          "name": "viewSpecificCommentByPostId",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"CT-08 | Filter comments by valid postId\", function () {\r",
                  "    const postId_url_param = pm.request.url.query.get(\"postId\");\r",
                  "    const responseBody = pm.response.json();\r",
                  "\r",
                  "    responseBody.forEach(comment => {\r",
                  "        pm.expect(comment.postId).to.be.equal(Number(postId_url_param));\r",
                  "    });\r",
                  "});\r",
                  "\r",
                  "pm.test(\"CT-09 | Filter comments with non-existent postId\", function () {\r",
                  "    const responseBody = pm.response.json();\r",
                  "\r",
                  "    pm.expect(responseBody).to.be.an(\"array\");\r",
                  "    pm.expect(responseBody.length).to.be.equal(0);\r",
                  "});\r",
                  "\r",
                  ""
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/{{comments_section}}?postId=888",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "{{comments_section}}"
              ],
              "query": [
                {
                  "key": "postId",
                  "value": "888"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "addComment",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"CT-10 | Comment was created - Status 201\", function () {\r",
                  "    pm.response.to.have.status(201);\r",
                  "});\r",
                  "\r",
                  "pm.test(\"CT-11 | Comment was created with valid data\", function () {\r",
                  "    const responseBody = pm.response.json();    \r",
                  "    pm.expect(responseBody.id).to.exist;\r",
                  "    console.log(responseBody.id) // Displays the comment's id.\r",
                  "})\r",
                  "\r",
                  "pm.test(\"CT-12 | API accepts comment creation with missing fields\", function () {\r",
                  "    const responseBody = pm.response.json();\r",
                  "    const required_fields = [\"postId\", \"name\", \"email\", \"body\"];\r",
                  "\r",
                  "    required_fields.forEach(field => {\r",
                  "        pm.expect(responseBody).to.satisfy(body => \r",
                  "            body.hasOwnProperty(field) || !body.hasOwnProperty(field)\r",
                  "        );\r",
                  "    });\r",
                  "});\r",
                  "\r",
                  ""
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\r\n    \"postId\": 1,\r\n    \"name\": \"QA Test\",\r\n    \"email\": \"qa.test@example.com\",\r\n    \"body\": \"This is a test comment for QA purposes. Please ignore.\" \r\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/{{comments_section}}",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "{{comments_section}}"
              ]
            }
          },
          "response": []
        },
        {
          "name": "editComment",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"CT-13 | Update a comment with all required fields\", function () {\r",
                  "    const responseBody = pm.response.json();\r",
                  "    const required_fields = [\"postId\", \"name\", \"email\", \"body\"];\r",
                  "\r",
                  "    required_fields.forEach(field => {\r",
                  "        pm.expect(responseBody).to.haveOwnProperty(field);\r",
                  "    });\r",
                  "});\r",
                  "\r",
                  "pm.test(\"CT-14 | Update a non-existent comment\", function () {\r",
                  "    pm.response.to.have.status(404);\r",
                  "});"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "method": "PUT",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\r\n    \"postId\": 3,\r\n    \"name\": \"QA Testing (new name)\",\r\n    \"email\": \"qa.test123@example.com\",\r\n    \"body\": \"This is a test comment for QA purposes. Please ignore again.\" \r\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/{{comments_section}}/9",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "{{comments_section}}",
                "9"
              ]
            }
          },
          "response": []
        },
        {
          "name": "editPartialComment",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"CT-15 | Partially update a comment\", function () {\r",
                  "    const responseBody = pm.response.json();\r",
                  "\r",
                  "    // using 'name' filed as a reference\r",
                  "    pm.expect(responseBody).to.have.property(\"name\");\r",
                  "    pm.expect(responseBody.name).to.be.equal(\"QA testing patch\")\r",
                  "});"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "method": "PATCH",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\r\n    \"name\": \"QA testing patch\"\r\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/{{comments_section}}/1",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "{{comments_section}}",
                "1"
              ]
            }
          },
          "response": []
        },
        {
          "name": "deleteComment",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"CT-16 | Delete a non-existent comment\", function () {\r",
                  "    const responseText = pm.response.text();\r",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 404]);\r",
                  "\r",
                  "    pm.expect(responseText).to.satisfy(text => \r",
                  "        text === \"\" || text === \"{}\"\r",
                  "    );\r",
                  "});"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{base_url}}/{{comments_section}}/9999",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "{{comments_section}}",
                "9999"
              ]
            }
          },
          "response": []
        }
      ],
      "event": [
        {
          "listen": "prerequest",
          "script": {
            "type": "text/javascript",
            "packages": {},
            "requests": {},
            "exec": [
              ""
            ]
          }
        },
        {
          "listen": "test",
          "script": {
            "type": "text/javascript",
            "packages": {},
            "requests": {},
            "exec": [
              ""
            ]
          }
        }
      ]
    }
  ],
  "event": [
    {
      "listen": "prerequest",
      "script": {
        "type": "text/javascript",
        "packages": {},
        "requests": {},
        "exec": [
          ""
        ]
      }
    },
    {
      "listen": "test",
      "script": {
        "type": "text/javascript",
        "packages": {},
        "requests": {},
        "exec": [
          "pm.test(\"Status code is 200\", function () {\r",
          "    pm.response.to.have.status(200);\r",
          "});"
        ]
      }
    }
  ],
  "variable": [
    {
      "key": "base_url",
      "value": ""
    },
    {
      "key": "posts_section",
      "value": ""
    },
    {
      "key": "comments_section",
      "value": ""
    }
  ]
}